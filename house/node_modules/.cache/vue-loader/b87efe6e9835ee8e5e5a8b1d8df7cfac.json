{"remainingRequest":"D:\\HBuilderProjects\\house\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\house\\page\\record\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\house\\page\\record\\list.vue","mtime":1637703794780},{"path":"D:\\HBuilderProjects\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsearchKey: \"\",\n\t\t\tsearchState:\"\",\n\t\t\tdepositState:[\n\t\t\t\t{\n\t\t\t\t\tvalue: '已充值',\n\t\t\t\t\tlabel: '已充值'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '未充值',\n\t\t\t\t\tlabel: '未充值'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '已扣押',\n\t\t\t\t\tlabel: '已扣押'\n\t\t\t\t},\n\t\t\t],\n\t\t\ttableInfo: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: 0,\n\t\t\t\tcolumnInfo: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"序号\",\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\trender: (h,params) => {\n\t\t\t\t\t\t    return h(\"span\", params.index + (this.tableInfo.currentPage - 1) * this.tableInfo.pageSize + 1);\n\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\twidth: 70,\t\t\t\t\t\t\t     \t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"押金记录编号\",\n\t\t\t\t\t\tkey: \"depositNumber\",\n\t\t\t\t\t\twidth: 250,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"客户名\",\n\t\t\t\t\t\tkey: \"clientName\",\n\t\t\t\t\t\twidth: 150,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle: \"押金金额\",\n\t\t\t\t\t// \tkey: \"deposit\",\n\t\t\t\t\t// \twidth: 150,\n\t\t\t\t\t// },\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"押金状态\",\n\t\t\t\t\t\tkey: \"depositState\",\n\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"操作人\",\n\t\t\t\t\t\tkey: \"account\",\n\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"操作时间\",\n\t\t\t\t\t\tkey: \"time\",\n\t\t\t\t\t\twidth: 200\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"原因\",\n\t\t\t\t\t\tkey: \"reason\",\n\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdata: []\t\t\t\t\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tinit: function() {\n\t\t\tthis.$data.tableInfo.currentPage = 0;\n\t\t\tthis.search();\n\t\t},\n\t\tsearch: function() {\n\t\t\tthis.http.get({\n\t\t\t\turl: \"/deposit-record-client-user-vo/page\",\t\t\t\t\t\n\t\t\t\tparam: {\n\t\t\t\t\tcurrentPage: this.$data.tableInfo.currentPage,\n\t\t\t\t\tpageSize: this.$data.tableInfo.pageSize,\n\t\t\t\t\tsearchKey: this.$data.searchKey,\n\t\t\t\t\tsearchState: this.$data.searchState,\n\t\t\t\t}\n\t\t\t}).then(data => {\t\t\t\t\t\n\t\t\t\t// console.log(data)\n\t\t\t\tthis.$data.tableInfo.currentPage = data.current;\n\t\t\t\tthis.$data.tableInfo.total = data.total;\n\t\t\t\tthis.$data.tableInfo.pageSize = data.size;\n\t\t\t\tthis.$data.tableInfo.data = data.records;\t\t\t\t\t\n\t\t\t\tlet totalPage = Math.ceil(this.tableInfo.total / this.tableInfo.pageSize);\n\t\t\t\ttotalPage = totalPage < 1 ? 1 : totalPage;\n\t\t\t\tif( this.tableInfo.currentPage > totalPage) {\n\t\t\t\t\tthis.$data.tableInfo.currentPage = 1;\n\t\t\t\t\tthis.search();\n\t\t\t\t};\t\t\t\t\t\n\t\t\t\t// for(let i = 0 ; i <= rows.length-1 ;i++){\n\t\t\t\t// \tif(\"已充值\" === rows[i].depositState){\n\t\t\t\t// \t\trows[i].account = \"\";\n\t\t\t\t// \t\trows[i].reason = \"\";\n\t\t\t\t// \t}\n\t\t\t\t// }\n\t\t\t});\n\t\t},\n\t\tpageSearch: function(changedPage) {\n\t\t\tthis.$data.tableInfo.currentPage = changedPage;\n\t\t\tthis.search();\n\t\t}\n\t},\n\tcreated: function() {\n\t\tthis.init();\n\t},\t\t\t\n}\n",{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"page/record","sourcesContent":["<template>\n\t<Layout :class=\"'bg-white p-2'\">\t\t\n\t\t<Row :class=\"'m-1'\">\r\n\t\t\t        <Col span=\"4\">\r\n\t\t\t\t\t\t<Input :class=\"'w-95 m-2'\" v-model=\"searchKey\" placeholder=\"请输入编号/客户名/操作人\" clearable style=\"width: 200px\"/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span=\"4\">\r\n\t\t\t\t\t<Select :class=\"'w-75 m-2'\" v-model=\"searchState\" placeholder=\"请选择押金状态\"  style=\"width:200px\" @change=\"aa()\" clearable>\r\n\t\t\t\t\t\t<Option v-for=\"item in depositState\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Col\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t <Col span=\"4\">\r\n\t\t\t\t\t \t<Button class=\"m-2\" type=\"primary\" shape=\"circle\" @click=\"search()\" icon=\"ios-search\">查询</Button>\r\n\t\t\t\t\t</Col>\n\t\t</Row>\t\t\n\t\t<Layout :class=\"'bg-white'\">\t\t\t\n\t\t\t<Table border :class=\"'m-1'\" :columns=\"tableInfo.columnInfo\" :data=\"tableInfo.data\">\t\n\t\t\t</Table>\n\t\t\t<Page :class=\"'m-2 text-right'\" :page-size=\"tableInfo.pageSize\" @on-change=\"pageSearch\" :total=\"tableInfo.total\" />\n\t\t</Layout>\n\t</Layout>\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsearchKey: \"\",\r\n\t\t\t\tsearchState:\"\",\r\n\t\t\t\tdepositState:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '已充值',\r\n\t\t\t\t\t\tlabel: '已充值'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '未充值',\r\n\t\t\t\t\t\tlabel: '未充值'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '已扣押',\r\n\t\t\t\t\t\tlabel: '已扣押'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\n\t\t\t\ttableInfo: {\n\t\t\t\t\tcurrentPage: 1,\r\n\t\t\t\t\tpageSize: 10,\n\t\t\t\t\ttotal: 0,\n\t\t\t\t\tcolumnInfo: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"序号\",\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\trender: (h,params) => {\r\n\t\t\t\t\t\t\t    return h(\"span\", params.index + (this.tableInfo.currentPage - 1) * this.tableInfo.pageSize + 1);\r\n\t\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\t\twidth: 70,\t\t\t\t\t\t\t     \t\t\t\t\t\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"押金记录编号\",\r\n\t\t\t\t\t\t\tkey: \"depositNumber\",\r\n\t\t\t\t\t\t\twidth: 250,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"客户名\",\n\t\t\t\t\t\t\tkey: \"clientName\",\n\t\t\t\t\t\t\twidth: 150,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t// \ttitle: \"押金金额\",\r\n\t\t\t\t\t\t// \tkey: \"deposit\",\r\n\t\t\t\t\t\t// \twidth: 150,\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"押金状态\",\r\n\t\t\t\t\t\t\tkey: \"depositState\",\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"操作人\",\r\n\t\t\t\t\t\t\tkey: \"account\",\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"操作时间\",\r\n\t\t\t\t\t\t\tkey: \"time\",\r\n\t\t\t\t\t\t\twidth: 200\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"原因\",\r\n\t\t\t\t\t\t\tkey: \"reason\",\r\n\t\t\t\t\t\t\twidth: 400,\r\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tdata: []\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tinit: function() {\n\t\t\t\tthis.$data.tableInfo.currentPage = 0;\n\t\t\t\tthis.search();\n\t\t\t},\n\t\t\tsearch: function() {\r\n\t\t\t\tthis.http.get({\n\t\t\t\t\turl: \"/deposit-record-client-user-vo/page\",\t\t\t\t\t\n\t\t\t\t\tparam: {\n\t\t\t\t\t\tcurrentPage: this.$data.tableInfo.currentPage,\r\n\t\t\t\t\t\tpageSize: this.$data.tableInfo.pageSize,\n\t\t\t\t\t\tsearchKey: this.$data.searchKey,\r\n\t\t\t\t\t\tsearchState: this.$data.searchState,\n\t\t\t\t\t}\n\t\t\t\t}).then(data => {\t\t\t\t\t\r\n\t\t\t\t\t// console.log(data)\n\t\t\t\t\tthis.$data.tableInfo.currentPage = data.current;\n\t\t\t\t\tthis.$data.tableInfo.total = data.total;\r\n\t\t\t\t\tthis.$data.tableInfo.pageSize = data.size;\n\t\t\t\t\tthis.$data.tableInfo.data = data.records;\t\t\t\t\t\r\n\t\t\t\t\tlet totalPage = Math.ceil(this.tableInfo.total / this.tableInfo.pageSize);\r\n\t\t\t\t\ttotalPage = totalPage < 1 ? 1 : totalPage;\r\n\t\t\t\t\tif( this.tableInfo.currentPage > totalPage) {\r\n\t\t\t\t\t\tthis.$data.tableInfo.currentPage = 1;\r\n\t\t\t\t\t\tthis.search();\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t\t// for(let i = 0 ; i <= rows.length-1 ;i++){\r\n\t\t\t\t\t// \tif(\"已充值\" === rows[i].depositState){\r\n\t\t\t\t\t// \t\trows[i].account = \"\";\r\n\t\t\t\t\t// \t\trows[i].reason = \"\";\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\n\t\t\t\t});\n\t\t\t},\n\t\t\tpageSearch: function(changedPage) {\n\t\t\t\tthis.$data.tableInfo.currentPage = changedPage;\n\t\t\t\tthis.search();\n\t\t\t}\n\t\t},\n\t\tcreated: function() {\n\t\t\tthis.init();\n\t\t},\t\t\t\n\t}\n</script>\n\n<style>\n\t\n</style>\n"]}]}