{"remainingRequest":"D:\\html_repo\\house\\node_modules\\babel-loader\\lib\\index.js!D:\\html_repo\\house\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\html_repo\\house\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\html_repo\\house\\page\\permission\\new.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\html_repo\\house\\page\\permission\\new.vue","mtime":1697106602266},{"path":"D:\\html_repo\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1697106597071},{"path":"D:\\html_repo\\house\\node_modules\\babel-loader\\lib\\index.js","mtime":1697106596884},{"path":"D:\\html_repo\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1697106597071},{"path":"D:\\html_repo\\house\\node_modules\\vue-loader\\lib\\index.js","mtime":1697106601613}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      permission: {\n        permissionId: \"\",\n        path: \"\",\n        name: \"\",\n        pId: 0\n      },\n      allPermissions: []\n    };\n  },\n  methods: {\n    changeP: function changeP(selectedPermissionId) {\n      if (selectedPermissionId === 0) {\n        this.$data.permission.path = \"\";\n      }\n    },\n    submit: function submit() {\n      var self = this;\n\n      if (this.$data.permission.name.length === 0) {\n        this.message.error(\"请输入权限名称\");\n        return;\n      }\n\n      if (this.$data.permission.pId !== 0) {\n        if (this.$data.permission.path.length === 0) {\n          this.message.error(\"请输入权限路径\");\n          return;\n        }\n      }\n\n      this.http.post({\n        url: \"/permission/info\",\n        param: self.$data.permission\n      }).then(function (data) {\n        self.message.info(\"添加成功\");\n        self.$tabs.close();\n      });\n    },\n    cancel: function cancel() {\n      this.$tabs.close();\n    },\n    init: function init() {\n      var self = this;\n      this.http.get({\n        url: \"/permission/all\"\n      }).then(function (data) {\n        self.$data.allPermissions.push({\n          permissionId: 0,\n          name: \"系统\"\n        });\n\n        for (var index in data) {\n          var permission = {};\n          permission.permissionId = data[index].permissionId;\n          permission.name = data[index].name;\n          self.$data.allPermissions.push(permission);\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.init();\n  }\n};",{"version":3,"sources":["new.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA;AAJA,OADA;AAOA,MAAA,cAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,iBAAA,oBAAA,EAAA;AACA,UAAA,oBAAA,KAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,UAAA,CAAA,IAAA,GAAA,EAAA;AACA;AACA,KALA;AAMA,IAAA,MAAA,EAAA,kBAAA;AACA,UAAA,IAAA,GAAA,IAAA;;AAEA,UAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA;;AAEA,UAAA,KAAA,KAAA,CAAA,UAAA,CAAA,GAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,OAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA;AACA;;AAEA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,GAAA,EAAA,kBADA;AAEA,QAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,KAAA;AACA,OANA;AASA,KA9BA;AA+BA,IAAA,MAAA,EAAA,kBAAA;AACA,WAAA,KAAA,CAAA,KAAA;AACA,KAjCA;AAkCA,IAAA,IAAA,EAAA,gBAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,IAAA,CAAA,GAAA,CAAA;AACA,QAAA,GAAA,EAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,IAAA,CAAA;AACA,UAAA,YAAA,EAAA,CADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;;AAIA,aAAA,IAAA,KAAA,IAAA,IAAA,EAAA;AACA,cAAA,UAAA,GAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,YAAA;AACA,UAAA,UAAA,CAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,IAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,OAbA;AAcA;AAlDA,GAZA;AAgEA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n\t<Layout class=\"p-5 bg-white\">\r\n\t\t<Form :label-width=\"80\">\r\n\t\r\n\t\t\t<FormItem class=\"w-50\" label=\"权限名\">\r\n\t\t\t\t<Input v-model=\"permission.name\" placeholder=\"请输入权限名\"></Input>\r\n\t\t\t</FormItem>\r\n\t\t\t<FormItem v-if=\"permission.pId > 0\" class=\"w-50\" label=\"权限路径\">\r\n\t\t\t\t<Input v-model=\"permission.path\" placeholder=\"请输入路径\"></Input>\r\n\t\t\t</FormItem>\r\n\t\t\t<FormItem class=\"w-50\" label=\"父级权限\">\r\n\t\t\t\t<Select @on-change=\"changeP\" v-model=\"permission.pId\">\r\n\t\t\t\t\t<Option v-for=\"fPermission in allPermissions\" :value=\"fPermission.permissionId\">{{fPermission.name}}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t</FormItem>\r\n\t\t\t<FormItem class=\"text-right\">\r\n\t\t\t\t<Button @click=\"submit\" type=\"primary\">提交</Button>\r\n\t\t\t\t<Button @click=\"cancel\" class=\"ml-2\">取消</Button>\r\n\t\t\t</FormItem>\r\n\t\t</Form>\r\n\t</Layout>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpermission: {\r\n\t\t\t\t\tpermissionId: \"\",\r\n\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\tname: \"\",\r\n\t\t\t\t\tpId: 0,\r\n\t\t\t\t},\r\n\t\t\t\tallPermissions: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeP: function(selectedPermissionId) {\r\n\t\t\t\tif (selectedPermissionId === 0) {\r\n\t\t\t\t\tthis.$data.permission.path = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmit: function() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\t\r\n\t\t\t\tif (this.$data.permission.name.length === 0) {\r\n\t\t\t\t\tthis.message.error(\"请输入权限名称\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.$data.permission.pId !== 0) {\r\n\t\t\t\t\tif (this.$data.permission.path.length === 0) {\r\n\t\t\t\t\t\tthis.message.error(\"请输入权限路径\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.http.post({\r\n\t\t\t\t\turl: \"/permission/info\",\r\n\t\t\t\t\tparam: self.$data.permission\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tself.message.info(\"添加成功\");\r\n\t\t\t\t\tself.$tabs.close();\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcancel: function() {\r\n\t\t\t\tthis.$tabs.close();\r\n\t\t\t},\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tthis.http.get({\r\n\t\t\t\t\turl: \"/permission/all\"\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tself.$data.allPermissions.push({\r\n\t\t\t\t\t\tpermissionId: 0,\r\n\t\t\t\t\t\tname: \"系统\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfor (let index in data) {\r\n\t\t\t\t\t\tlet permission = {};\r\n\t\t\t\t\t\tpermission.permissionId = data[index].permissionId;\r\n\t\t\t\t\t\tpermission.name = data[index].name;\r\n\t\t\t\t\t\tself.$data.allPermissions.push(permission);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated: function(){\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"sourceRoot":"page/permission"}]}