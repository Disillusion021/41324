{"remainingRequest":"D:\\HBuilderProjects\\house\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\house\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\house\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\house\\page\\deposit\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\house\\page\\deposit\\detail.vue","mtime":1637703794697},{"path":"D:\\HBuilderProjects\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProjects\\house\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport store from \"../../common/store.js\";\nexport default {\n  data: function data() {\n    return {\n      DepositClientVo: {\n        depositId: '',\n        clientId: '',\n        clientName: '',\n        deposit: '',\n        depositState: ''\n      },\n      depositState: [{\n        value: '已充值',\n        label: '已充值'\n      }, {\n        value: '未充值',\n        label: '未充值'\n      }, {\n        value: '已扣押',\n        label: '已扣押'\n      }],\n      Record: {\n        depositId: '',\n        clientId: '',\n        userId: '',\n        reason: ''\n      },\n      currentUser: {},\n      flag: true\n    };\n  },\n  methods: {\n    cancel: function cancel() {\n      this.$router.go(-1);\n      this.$tabs.close();\n    },\n    back: function back(depositId, deposit, depositState) {\n      var _this = this;\n\n      this.$data.DepositClientVo.deposit = 0;\n      this.$data.DepositClientVo.depositState = \"未充值\";\n      this.http.put({\n        url: \"/deposit/info\",\n        param: this.DepositClientVo\n      }).then(function () {\n        _this.message.info(\"退押成功\");\n\n        _this.http.post({\n          url: \"/record/info\",\n          param: _this.Record\n        }).then(function () {\n          _this.message.info(\"记录已生成\");\n        });\n      }).then(function () {\n        _this.$router.push({\n          name: \"deposit\"\n        });\n      });\n    },\n    leave: function leave() {\n      var _this2 = this;\n\n      this.$data.DepositClientVo.deposit = 0;\n      this.$data.DepositClientVo.depositState = \"已扣押\";\n      this.http.put({\n        url: \"/deposit/info\",\n        param: this.DepositClientVo\n      }).then(function () {\n        _this2.message.info(\"扣押成功\");\n\n        _this2.http.post({\n          url: \"/record/info\",\n          param: _this2.Record\n        }).then(function () {\n          _this2.message.info(\"记录已生成\");\n        });\n      }).then(function () {\n        _this2.$router.push({\n          name: \"deposit\"\n        });\n      });\n    },\n    init: function init() {\n      this.search();\n    },\n    search: function search() {\n      var _this3 = this;\n\n      var self = this;\n      this.http.get({\n        url: \"/deposit-client-vo/info\",\n        param: {\n          depositId: this.$data.DepositClientVo.depositId\n        }\n      }).then(function (data) {\n        _this3.$data.DepositClientVo = data;\n        _this3.$data.Record.clientId = _this3.$data.DepositClientVo.clientId;\n        console.log(\"current.user.userId\" + current.user.userId);\n\n        if (_this3.$data.DepositClientVo.depositState == \"已扣押\" || _this3.$data.DepositClientVo.depositState == \"未充值\") {\n          _this3.flag = false;\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.$data.DepositClientVo.depositId = this.$route.params.depositId;\n    this.$data.Record.depositId = this.$route.params.depositId; // console.log(this.$data.Record.depositId + \"depositId\")\t\t\t\n\n    this.init();\n    this.search();\n  },\n  mounted: function mounted() {},\n  computed: {\n    current: function current() {\n      this.$data.Record.userId = store.state.currentUser.user.userId;\n      return store.state.currentUser;\n    }\n  }\n};",{"version":3,"sources":["detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <Layout class=\"p-5 bg-white\">\n        <Form class=\"p-5\" :model=\"DepositClientVo\" :label-width=\"80\">\t\t\t\r\n\t\t\t\t\t<FormItem class=\"w-50\" label=\"用户名\" >\r\n\t\t\t\t\t\t<label>{{current.user.account}}</label>\n\t\t\t\t\t</FormItem>\t\r\n\t\t\t\t\t<FormItem class=\"w-50\" label=\"客户名\">\r\n\t\t\t\t\t\t<label>{{DepositClientVo.clientName}}</label>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem class=\"w-50\" label=\"押金金额\">\r\n\t\t\t\t\t\t<label>{{DepositClientVo.deposit}}</label>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem class=\"w-50\" label=\"押金状态\">\t\r\n\t\t\t\t\t\t<label>{{DepositClientVo.depositState}}</label>\r\n\t\t\t\t\t\t<!-- <Select v-model=\"DepositClientVo.depositState\" style=\"width:200px\" @change=\"aa()\">\r\n\t\t\t\t\t\t\t<Option v-for=\"item in depositState\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n\t\t\t\t\t\t</Select> -->\r\n\t\t\t\t\t</FormItem>\t\t\t\t\t\t\r\n\t\t\t\t\t <FormItem class=\"w-50\" label=\"原因\" v-if=\"flag\" >\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Input v-model=\"Record.reason\" type=\"textarea\" :rows=\"4\" placeholder=\"扣押/退押原因\" />\r\n\t\t\t\t\t </FormItem>\r\n\t\t\t<FormItem>\r\n\t\t\t\t<Button @click=\"back(depositId,deposit,depositState)\" type=\"primary\" style=\"margin-left: 8px\" v-if=\"flag\">退押</Button>\r\n\t\t\t\t<Button @click=\"leave(depositId,deposit,depositState)\" type=\"primary\" style=\"margin-left: 8px\" v-if=\"flag\">扣押</Button>\r\n\t\t\t    <Button @click=\"cancel\" style=\"margin-left: 8px\">取消</Button>\r\n\t\t\t</FormItem>\n        </Form>\n    </Layout>\n</template>\n<script>\r\n\timport store from \"../../common/store.js\"\n    export default {\n        data() {\n            return {\n                DepositClientVo: {\n\t\t\t\t\tdepositId:'',\r\n\t\t\t\t\tclientId:'',\r\n\t\t\t\t\tclientName:'',\r\n\t\t\t\t\tdeposit:'',\r\n\t\t\t\t\tdepositState:'',\r\n\t\t\t\t},\r\n\t\t\t\tdepositState:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '已充值',\r\n\t\t\t\t\t\tlabel: '已充值'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '未充值',\r\n\t\t\t\t\t\tlabel: '未充值'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '已扣押',\r\n\t\t\t\t\t\tlabel: '已扣押'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tRecord:{\r\n\t\t\t\t\tdepositId:'',\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tclientId:'',\r\n\t\t\t\t\tuserId:'',\r\n\t\t\t\t\treason:'',\r\n\t\t\t\t},\r\n\t\t\t\tcurrentUser: {\r\n\t\t\t\t},\r\n\t\t\t\tflag:true\n            }\n        },\n        methods: {\t\t\n            cancel: function() {\r\n            \tthis.$router.go(-1);\r\n            \tthis.$tabs.close();\r\n            },\t\r\n\t\t\tback: function(depositId,deposit,depositState) {\r\n\t\t\t\r\n\t\t\t\tthis.$data.DepositClientVo.deposit = 0;\r\n\t\t\t\tthis.$data.DepositClientVo.depositState = \"未充值\";\t\t\t\t\r\n\t\t\t\tthis.http.put({\r\n\t\t\t\t\turl: \"/deposit/info\",\r\n\t\t\t\t\tparam: this.DepositClientVo,\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.message.info(\"退押成功\");\t\t\r\n\t\t\t\t\tthis.http.post({\r\n\t\t\t\t\t\turl: \"/record/info\",\r\n\t\t\t\t\t\tparam: this.Record,\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.message.info(\"记录已生成\");\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t});\t\t\t\t\t\r\n\t\t\t\t}).then(() =>{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: \"deposit\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\tleave: function() {\r\n\t\t\t\tthis.$data.DepositClientVo.deposit = 0;\r\n\t\t\t\tthis.$data.DepositClientVo.depositState = \"已扣押\";\r\n\t\t\t\tthis.http.put({\r\n\t\t\t\t\turl: \"/deposit/info\",\r\n\t\t\t\t\tparam: this.DepositClientVo,\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.message.info(\"扣押成功\");\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.http.post({\r\n\t\t\t\t\t\turl: \"/record/info\",\r\n\t\t\t\t\t\tparam: this.Record,\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.message.info(\"记录已生成\");\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t}).then(() =>{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: \"deposit\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\t\t\t\t\t\r\n\t\t\t},\n            init: function () {\n                this.search();\n            },\n            search: function () {\r\n\t\t\t\t\n                let self = this;\n                this.http.get({\n                    url: \"/deposit-client-vo/info\",\n                    param: {\n                        depositId: this.$data.DepositClientVo.depositId\n                    }\n                }).then(data => {\t\t\t\t\t\r\n\t\t\t\t\tthis.$data.DepositClientVo = data;\t\t\r\n\t\t\t\t\tthis.$data.Record.clientId = this.$data.DepositClientVo.clientId\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"current.user.userId\" + current.user.userId)\r\n\t\t\t\t\tif(this.$data.DepositClientVo.depositState == \"已扣押\" || this.$data.DepositClientVo.depositState == \"未充值\"){\r\n\t\t\t\t\t\tthis.flag = false;\r\n\t\t\t\t\t}\n                });\t\t\t\t\n            },\n        },\n        created: function () {\r\n\t\t\tthis.$data.DepositClientVo.depositId = this.$route.params.depositId;\r\n\t\t\tthis.$data.Record.depositId = this.$route.params.depositId;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t// console.log(this.$data.Record.depositId + \"depositId\")\t\t\t\r\n\t\t\tthis.init();\r\n\t\t\tthis.search();\t\t\t\n        },\n        mounted: function () {\t\t\r\n\t\t\t\n        },\r\n\t\tcomputed: {\r\n\t\t\tcurrent: function() {\t\t\t\t\r\n\t\t\t\tthis.$data.Record.userId = store.state.currentUser.user.userId;\t\t\t\t\r\n\t\t\t\treturn store.state.currentUser;\r\n\t\t\t}\r\n\t\t}\n    }\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"page/deposit"}]}